@import "vars"

// GLOBAL STYLES

*
    box-sizing: border-box

body
    background: $bg
    color: $font-color
    font-family: $font-sans
    font-size: 11pt
    margin: 0
    width: 100vw
    overflow-x: hidden

h1, h2, h3, h4, h5, h6
    font-family: $font-serif

a, a:visited
    text-decoration: underline
    color: $font-color
a:hover
    color: $fg

h1[id]::before
  content: ''
  display: block
  height: $header-height + 0.2rem
  margin-top: -($header-height + 0.2rem)
  visibility: hidden
  z-index: -1

.leadin
    font-size: 0.925rem
    text-transform: uppercase

.highlight
    padding: 1px 2px
    margin: 0 -1px
    border-radius: 3px
    background: #dd6

.dark.highlight
    background: #568
    color: $bg


.spacer
    flex-grow: 1

.center
    width: 100%;
    max-width: $content-width;
    margin-left: auto
    margin-right: auto

.flex-row
    display: flex
    flex-direction: row
    align-items: center

.flex-column
    display: flex
    flex-direction: column
    align-items: center

.interactive
    padding: 0.5em 0
    border-top: 1px solid $gray
    border-bottom: 1px solid $gray

svg, .chart
    overflow: visible !important
    z-index: 3

svg text
    user-select: none

.tooltip
    z-index: 7
    position: absolute
    background: #fffd
    border-radius: 3px
    font-size: 0.85rem
    padding: 0.5em
    top: 0

.scroll-interactive
    margin-bottom: 30vh

.scroll-interactive .text
    z-index: 6
    position: relative
    padding: 1.5em
    left: -1.5em
    width: calc(100% + 3em)
    border-radius: 3px
    background: change-color($bg, $alpha: 0.85)
    backdrop-filter: blur(4px)

    p
        margin: 0.5em 0 0 0
    p:first-child
        margin: 0

.scroll-interactive .text.center
    text-align: center
    font-size: 1.4rem

.scroll-interactive .text + .text
    margin-top: 100vh

.scroll-interactive .text + .text.extra
    margin-top: 120vh
    

figure 
    margin: 0
    display: flex
    flex-direction: column

    figcaption p
        font-size: 0.8rem
        color: $dark-gray
        line-height: 1
        margin: 0.5rem 0
        text-align: right

    img
        width: 5in
        max-width: 100%
        margin: 0 auto

figure.w2in img
    width: 2in
figure.w3in img
    width: 3in
figure.w4in img
    width: 4in
figure.w5in img
    width: 5in
figure.w6in img
    width: 6in
figure.w7in img
    width: 7in
figure.w8in img
    width: 8in
figure.w9in img
    width: 9in
figure.w10in img
    width: 10in
figure.w100 img
    width: 100%

// HEADER
header
    border-bottom: 1px solid black
    position: fixed
    top: 0
    left: 0
    width: 100vw
    background: $bg
    z-index: 10

header .center
    padding: 0.5rem
    height: $header-height

#logo
    height: 32px
#logo:hover
    filter: drop-shadow(2px 2px 4px #0004)

.site-title
    margin: 0 0 0 0.5rem 
    font-family: $font-sans
    font-size: 20px
    font-weight: normal
    letter-spacing: 2px
    animation-name: title
    animation-duration: 10s
    animation-fill-mode: forwards

    a
        text-decoration: none
    a:hover
        color: black

nav ul
    display: flex
    flex-direction: row
    align-items: center
    list-style: none
    margin: 0
    padding: 0

    li
        margin: 0 1.5em 0 0

        a
            text-decoration: none
            text-transform: uppercase
        a:hover
            text-decoration: underline

// MAIN
main
    margin-top: $header-height
    padding: 1rem 1rem 5rem 1rem
    min-height: calc(100vh - 64px)

.title
    margin: 0
    display: flex
    background-color: $fg
    width: 200%
    position: relative
    left: -100%
    padding-left: 100%

    .text
        padding: 0.4em 0.4em 0.5em 0
        min-width: 5em

    .triangle 
        background-color: $fg
        min-width: 0.5em
        width: 0.5em
        left: 0.5em
        position: relative
        clip-path: polygon(0% 99%, 1px 99%, 99% 0%, 0% 0%)
        -webkit-clip-path: polygon(0% 99%, 1px 99%, 99% 0%, 0% 0%)

    .spacer
        background-color: $bg
        border-left: 1px solid $fg

.subtitle
    margin: 0.5rem 0 1rem
    font-weight: normal

.publishinfo
    margin-bottom: 1.5rem
    font-size: 0.85rem

.date
    color: $gray
    text-transform: uppercase

article p
    text-align: justify

// LISTS
.post-list .post
    padding: 0.75em 0
    border-bottom: 1px solid $gray

.post-list a, .project-list a
    text-decoration: none
.post-list a:hover, .project-list a:hover
    color: black
.post-list a:hover h2, .project-list a:hover h2
    text-decoration: underline

.post-list .flex-row
    align-items: baseline
    margin-bottom: 0.4em
    
.post-list .post-title
    margin: 0
    font-size: 1.4rem
.post-list .subtitle
    margin: 0
    font-size: 1.2rem

.post-list .date
    font-size: 0.85rem

.post-list .excerpt
    font-size: 0.95rem
    text-align: justify

.project-list
    display: flex
    flex-direction: row
    flex-wrap: wrap
    margin-right: -1em

.project-list .project
    width: 0.35*$content-width
    flex-grow: 1
    flex-shrink: 1
    margin: 1em 1em 0 0 
    padding: 1rem
    background: white
    border-radius: 3px
    min-height: 10rem
    border-bottom: 1px solid $gray

.project-list .project-title
    font-size: 1.75rem
    margin: 0
.project-list .subtitle
    margin: 0.5rem 0 0 


// FOOTER
footer
    background: $dark-gray
    min-height: $footer-height
    padding: 1rem 1rem 3rem
    color: $gray

    a, a:visited
        color: $gray
    a:hover
        color: $fg

// MOBILE
@media screen and (max-width: $break-small)
    .site-title
        display: none

    li
        margin: 0 1.15em 0 0

    .scroll-interactive .text
        padding: 1em
        left: -1em
        width: calc(100% + 2em)
        line-height: 1.1

        p
            line-height: 1.1

@media screen and (max-width: $content-width)
    .title > .triangle 
        display: block
        background-color: $bg
        min-width: 0.5em
        width: 0.5em
        left: 0
        position: relative
        clip-path: polygon(0% 100%, 100% 0%, 100% 100%)
        -webkit-clip-path: polygon(0% 100%, 100% 0%, 100% 100%)

    .title > .spacer
        border-left: 1px solid $bg


@keyframes title 
    0%
        opacity: 1
    100%
        opacity: 0
